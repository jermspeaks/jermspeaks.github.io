---
import FormattedDate from "../components/FormattedDate.astro";
import ProseArticle from "../components/ProseArticle.astro";
import type { CollectionEntry } from "astro:content";

type Props = CollectionEntry<"book">["data"];

const { blurb, bookAuthor, heroImage, dateConsumed, heroImageAlt, link } =
  Astro.props;
---

<ProseArticle>
  <!-- <h1>{title}</h1> -->
  <div
    class="grid grid-cols-3 gap-4 border-b-2 pb-2 border-solid border-gray-300"
  >
    <div class="col-span-1">
      {
        heroImage && (
          <img width={230} height={345} src={heroImage} alt={heroImageAlt} />
        )
      }
      {
        heroImageAlt && (
          <figcaption class="text-sm italic">{heroImageAlt}</figcaption>
        )
      }
    </div>
    <div class="col-span-2">
      <div
        class="flex justify-between align-middle mb-2 border-b-2 border-gray-300 dark:border-gray-700"
      >
        <div class="font-thin">
          Author: {bookAuthor}
        </div>

        <a
          class="italic text-slate-600 dark:text-slate-300"
          href={link}
          rel="external"
        >
          Affiliate Link
        </a>
      </div>
      <div class="italic text-slate-600 dark:text-slate-300">
        First Read:
        <FormattedDate date={dateConsumed} />
      </div>
      <div class="italic text-slate-600 dark:text-slate-300">{blurb}</div>
    </div>
  </div>
  <slot />
</ProseArticle>
