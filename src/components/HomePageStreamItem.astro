---
import type { CollectionEntry } from "astro:content";
import FormattedDate from "./FormattedDate.astro";
import ProseArticle from "./ProseArticle.astro";

export interface Props {
  item: CollectionEntry<"stream">;
}

const { item } = Astro.props;
const { data, slug } = item;
const { title, tags } = data;
const { Content } = await item.render();
---

<div class="prose dark:prose-invert !max-w-none">
  <a
    class="hover:underline hover:text-purple-500 visited:text-amber-600 dark:visited:text-purple-300"
    href={`/curation/stream/link/${slug}`}>{title}</a
  >
  <div class="text-xs italic mb-2 text-slate-600 dark:text-slate-400">
    Posted <FormattedDate
      date={item.data.pubDate}
      options={{ hour: "numeric", minute: "numeric" }}
    />
  </div>
</div>
<ProseArticle>
  <Content />
</ProseArticle>
<div class="prose dark:prose-invert">
  <!-- <div class="col-span-8 md:col-span-4 lg:col-span-2">
    <span
      >Filed: ðŸš° <a
        class="hover:underline hover:text-purple-500 visited:text-amber-600 dark:visited:text-purple-300"
        href="/curation/stream">Stream</a
      ></span
    >
  </div> -->
  <div class="pt-2 flex gap-2">
    {
      Array.isArray(tags) &&
        tags.map((tag: string, index: number) => (
          <a
            class="text-slate-600 dark:text-slate-400 italic font-light hover:underline hover:text-purple-500 visited:text-amber-600 dark:visited:text-purple-300"
            href={`/blog/tag/${tag}`}
          >
            {tag}
          </a>
        ))
    }
  </div>
</div>
